# ‚ö° –û–ù–û–í–õ–ï–ù–ù–Ø: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥

## üìÖ –î–∞—Ç–∞: 2025-11-11

## üöÄ –©–æ –∑–º—ñ–Ω–µ–Ω–æ

### –ß–∞—Å—Ç–æ—Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–∞:

#### ‚úÖ –ë—É–ª–æ:
- –ó–∞–≥–∞–ª—å–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥: **–∫–æ–∂–Ω—ñ 2 —Ö–≤–∏–ª–∏–Ω–∏**
- –ü–æ–ª—Ç–∞–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å: **–∫–æ–∂–Ω—ñ 3 —Ö–≤–∏–ª–∏–Ω–∏**

#### ‚ö° –°—Ç–∞–ª–æ:
- –ó–∞–≥–∞–ª—å–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥: **–∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥** (—É 4 —Ä–∞–∑–∏ —à–≤–∏–¥—à–µ!)
- –ü–æ–ª—Ç–∞–≤—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å: **–∫–æ–∂–Ω—É —Ö–≤–∏–ª–∏–Ω—É** (—É 3 —Ä–∞–∑–∏ —à–≤–∏–¥—à–µ!)

## üìä –ü–µ—Ä–µ–≤–∞–≥–∏

### 1. –®–≤–∏–¥—à–µ —Ä–µ–∞–≥—É–≤–∞–Ω–Ω—è
- –¢—Ä–∏–≤–æ–≥–∞ –∑'—è–≤–∏–ª–∞—Å—å ‚Üí **–º–∞–∫—Å 30 —Å–µ–∫** ‚Üí –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram ‚ö°
- –ë—É–ª–æ: –º–∞–∫—Å 2 —Ö–≤–∏–ª–∏–Ω–∏

### 2. –¢–æ—á–Ω—ñ—à–∞ —ñ—Å—Ç–æ—Ä—ñ—è
- –ë—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω—ñ –∑–∞–ø–∏—Å–∏ —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
- –¢–æ—á–Ω—ñ—à–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ —Ç—Ä–∏–≤–æ–≥

### 3. –ê–∫—Ç—É–∞–ª—å–Ω—ñ—à–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
- –î–ª—è –ü–æ–ª—Ç–∞–≤—Å—å–∫–æ—ó –æ–±–ª–∞—Å—Ç—ñ: –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—É —Ö–≤–∏–ª–∏–Ω—É
- –®–≤–∏–¥–∫–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è —á–∞—Å—Ç–∫–æ–≤–∏—Ö —Ç—Ä–∏–≤–æ–≥

## ‚öôÔ∏è –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –§–∞–π–ª–∏ –∑–º—ñ–Ω–µ–Ω–æ:

1. **routes/console.php**
   ```php
   // –ë—É–ª–æ:
   Schedule::command('air-alert:monitor')
       ->everyTwoMinutes()
   
   // –°—Ç–∞–ª–æ:
   Schedule::command('air-alert:monitor')
       ->everyThirtySeconds()
   ```

2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞:**
   - ‚úÖ CHECKLIST-NOTIFICATIONS.md
   - ‚úÖ AIR-ALERT-NOTIFICATIONS-SETUP.md
   - ‚úÖ QUICKSTART-NOTIFICATIONS.md
   - ‚úÖ FINAL-AIR-ALERT-SUMMARY.md

## üì± –©–æ —Ü–µ –æ–∑–Ω–∞—á–∞—î –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞?

### –°—Ü–µ–Ω–∞—Ä—ñ–π: –ü–æ—á–∞—Ç–æ–∫ —Ç—Ä–∏–≤–æ–≥–∏

**–ë—É–ª–æ:**
```
15:00:00 - –¢—Ä–∏–≤–æ–≥–∞ –ø–æ—á–∞–ª–∞—Å—å
15:02:00 - –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏–ª–∞ (—á–µ—Ä–µ–∑ 2 —Ö–≤)
15:02:05 - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram
```

**–°—Ç–∞–ª–æ:**
```
15:00:00 - –¢—Ä–∏–≤–æ–≥–∞ –ø–æ—á–∞–ª–∞—Å—å
15:00:30 - –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏–ª–∞ (—á–µ—Ä–µ–∑ 30 —Å–µ–∫) ‚ö°
15:00:35 - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram
```

**–ï–∫–æ–Ω–æ–º—ñ—è —á–∞—Å—É: 1.5 —Ö–≤–∏–ª–∏–Ω–∏!**

### –ü—Ä–∏–∫–ª–∞–¥ –¥–ª—è –ü–æ–ª—Ç–∞–≤–∏

**–ë—É–ª–æ:**
```
15:00 - –¢—Ä–∏–≤–æ–≥–∞ —É –î–∏–∫–∞–Ω—Å—å–∫—ñ–π –≥—Ä–æ–º–∞–¥—ñ
15:03 - –°–∏—Å—Ç–µ–º–∞ –≤–∏—è–≤–∏–ª–∞ (—á–µ—Ä–µ–∑ 3 —Ö–≤)
15:03 - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ
```

**–°—Ç–∞–ª–æ:**
```
15:00 - –¢—Ä–∏–≤–æ–≥–∞ —É –î–∏–∫–∞–Ω—Å—å–∫—ñ–π –≥—Ä–æ–º–∞–¥—ñ
15:01 - –°–∏—Å—Ç–µ–º–∞ –≤–∏—è–≤–∏–ª–∞ (—á–µ—Ä–µ–∑ 1 —Ö–≤) ‚ö°
15:01 - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ
```

**–ï–∫–æ–Ω–æ–º—ñ—è —á–∞—Å—É: 2 —Ö–≤–∏–ª–∏–Ω–∏!**

## üîã –ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ API

### –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤:

**–ù–∞ –≥–æ–¥–∏–Ω—É:**
- –ë—É–ª–æ: 30 –∑–∞–ø–∏—Ç—ñ–≤ (–∫–æ–∂–Ω—ñ 2 —Ö–≤)
- –°—Ç–∞–ª–æ: 120 –∑–∞–ø–∏—Ç—ñ–≤ (–∫–æ–∂–Ω—ñ 30 —Å–µ–∫)

**–¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ?** ‚úÖ –¢–∞–∫!
- API alerts.in.ua –¥–æ–∑–≤–æ–ª—è—î 8-10 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É
- –ú–∏ —Ä–æ–±–∏–º–æ 2 –∑–∞–ø–∏—Ç–∏ –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É (30 —Å–µ–∫ * 2 = 1 —Ö–≤)
- –ó–∞–ø–∞—Å: 4-5 —Ä–∞–∑—ñ–≤

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:

```php
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è withoutOverlapping()
Schedule::command('air-alert:monitor')
    ->everyThirtySeconds()
    ->withoutOverlapping()  // –ù–µ –∑–∞–ø—É—Å–∫–∞—î –Ω–æ–≤—É –∑–∞–¥–∞—á—É, —è–∫—â–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—è —â–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è
    ->onOneServer()         // –¢—ñ–ª—å–∫–∏ –Ω–∞ –æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

### –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ scheduler!

–Ø–∫—â–æ scheduler –≤–∂–µ –ø—Ä–∞—Ü—é—î:

**–í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ cron (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)**
- –ù—ñ—á–æ–≥–æ —Ä–æ–±–∏—Ç–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ
- –ü—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É (—á–µ—Ä–µ–∑ —Ö–≤–∏–ª–∏–Ω—É) –ø—ñ–¥—Ö–æ–ø–∏—Ç—å –Ω–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

**–í–∞—Ä—ñ–∞–Ω—Ç 2: –Ø–∫—â–æ –ø—Ä–∞—Ü—é—î schedule:work**
```bash
# –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å
ps aux | grep "schedule:work"

# –í–±–∏—Ç–∏ —Å—Ç–∞—Ä–∏–π
kill [PID]

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –Ω–æ–≤–∏–π
nohup php artisan schedule:work > /dev/null 2>&1 &
```

**–í–∞—Ä—ñ–∞–Ω—Ç 3: Supervisor**
```bash
sudo supervisorctl restart air-alert-scheduler
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø—Ä–∞—Ü—é—î:

```bash
# –î–∏–≤–∏—Ç–∏—Å—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
tail -f storage/logs/air-alert-monitor.log

# –ü–æ–±–∞—á–∏—Ç–µ –∑–∞–ø–∏—Å–∏ –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥:
# [2025-11-11 15:00:30] –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏–∫–æ–Ω–∞–Ω–æ
# [2025-11-11 15:01:00] –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏–∫–æ–Ω–∞–Ω–æ
# [2025-11-11 15:01:30] –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏–∫–æ–Ω–∞–Ω–æ
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∞—Å—Ç–æ—Ç—É –≤ –ë–î:

```bash
php artisan tinker
```

```php
// –û—Å—Ç–∞–Ω–Ω—ñ 10 –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫
\App\Models\AirAlert::latest()->limit(10)->get(['region_name', 'created_at']);

// –ü–æ–±–∞—á–∏—Ç–µ –∑–∞–ø–∏—Å–∏ –∑ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–æ–º ~30 —Å–µ–∫
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –î–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤:

**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å (–ø–æ—Ç–æ—á–Ω–µ):**
```php
->everyThirtySeconds()  // ‚ö° –ù–∞–π—à–≤–∏–¥—à–µ
```

**–ë–∞–ª–∞–Ω—Å —à–≤–∏–¥–∫—ñ—Å—Ç—å/–Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:**
```php
->everyMinute()  // –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤
```

**–ï–∫–æ–Ω–æ–º—ñ—è —Ä–µ—Å—É—Ä—Å—ñ–≤:**
```php
->everyTwoMinutes()  // –Ø–∫—â–æ —Å–µ—Ä–≤–µ—Ä —Å–ª–∞–±–∫–∏–π
```

**–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:**
```php
->everyFiveMinutes()  // –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–±–æ —Ä–æ–∑—Ä–æ–±–∫–∏
```

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

**30 —Å–µ–∫—É–Ω–¥ - –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å:**
- ‚úÖ –®–≤–∏–¥–∫–µ —Ä–µ–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞ —Ç—Ä–∏–≤–æ–≥–∏
- ‚úÖ –ù–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É—î API
- ‚úÖ –¢–æ—á–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è —É –ë–î
- ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ñ–π —à–≤–∏–¥–∫–æ—Å—Ç—ñ! ‚ö°**

---

**–°–ª–∞–≤–∞ –£–∫—Ä–∞—ó–Ω—ñ! üá∫üá¶**

